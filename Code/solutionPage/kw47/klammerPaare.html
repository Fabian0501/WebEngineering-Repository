<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>KlammerPaare</title>

  <style>
    #customBrackets {
      width: 300px;
      padding: 10px;
      margin-left: 10px;
      font-size: 15px;
      border-radius: 10px;
      border: solid #57AEFF33;
    }
    .text {
        font-size: 20px;
    }
    #custom {
        border-radius: 10px;
        padding: 15px;
        background-color: rgba(87,174,255, 20%);
        border: none;
    }
    #inputField {
        margin-left: 10px;
        font-size: 15px;
        padding: 12px;
        border-radius: 10px;
        border: solid #57AEFF33;
    }
  </style>

</head>
<body>
<div style="margin-top: 50px">
    <label class="text" for="customBrackets">Enter custom bracket pair:</label>
    <input type="text" id="customBrackets" placeholder="e.g., <>, +-, !?">
    <button id="custom" onclick="addCustomBracket()">Add Custom Bracket</button>
</div>



<h1>Bracket Checker</h1>
<label for="inputField" class="text" s>Enter a string with brackets:</label>
<input type="text" id="inputField" oninput="checkBrackets()" placeholder="() [] {}">

<script>

  const bracketPairs = {
    '[': ']',
    '(': ')',
    '{': '}'
  };

  function checkBrackets() {
    const inputField = document.getElementById('inputField');
    const inputValue = inputField.value;
    const isValid = areBracketsValid(inputValue, Object.entries(bracketPairs));

    if (isValid) {
      inputField.style.backgroundColor = 'white';
    } else {
      inputField.style.backgroundColor = 'red';
    }

    console.assert(isValid, 'Invalid bracket pairing');
  }

  function areBracketsValid(input, bracketPairs) {
    const stack = [];
    const openingBrackets = bracketPairs.map(pair => pair[0]);
    const closingBrackets = bracketPairs.map(pair => pair[1]);

    const bracketPairsMap = {};
    bracketPairs.forEach(pair => {
      bracketPairsMap[pair[0]] = pair[1];
    });

    for (let char of input) {
      if (openingBrackets.includes(char)) {
        stack.push(char);
      } else if (closingBrackets.includes(char)) {
        if (bracketPairsMap[stack.pop()] !== char) {
          return false;
        }
      }
    }

    return stack.length === 0;
  }

  function addCustomBracket() {
    const customBracketInput = document.getElementById('customBrackets');
    const customBracketValue = customBracketInput.value;

    if (customBracketValue.length === 2) {
      const openingBracket = customBracketValue[0];
      const closingBracket = customBracketValue[1];

      bracketPairs[openingBracket] = closingBracket;

      customBracketInput.value = '';

      console.log('Custom bracket added:', customBracketValue);
    } else {
      console.error('Invalid custom bracket input. Please enter a pair of strings.');
    }
  }

</script>

</body>
</html>